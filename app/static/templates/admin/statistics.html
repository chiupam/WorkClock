{% extends "admin/index.html" %}

{% block title %}{{ page_title }}{% endblock %}

{% block styles %}
<link rel="icon" type="image/x-icon" href="/static/favicon.ico">
<link rel="stylesheet" href="/static/css/admin/logs.css">
<link rel="stylesheet" href="/static/css/admin/statistics.css">
{% endblock %}

{% block content %}
<div class="statistics-container">
    <div class="statistics-header">
        <h1>è€ƒå‹¤ç»Ÿè®¡</h1>
        <p class="current-time">å½“å‰æ—¶é—´: {{ current_time }}</p>
    </div>

    <div class="statistics-content">
        <!-- ç®€å•ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-cards">
            <div class="stats-card" id="today-sign-count">
                <div class="stats-icon">ğŸ“</div>
                <div class="stats-content">
                    <div class="stats-value">0</div>
                    <div class="stats-label">ä»Šæ—¥æ‰“å¡æ¬¡æ•°</div>
                </div>
            </div>
            <div class="stats-card" id="success-rate">
                <div class="stats-icon">âœ…</div>
                <div class="stats-content">
                    <div class="stats-value">0%</div>
                    <div class="stats-label">æˆåŠŸç‡</div>
                </div>
            </div>
            <div class="stats-card" id="this-month-sign">
                <div class="stats-icon">ğŸ“…</div>
                <div class="stats-content">
                    <div class="stats-value">0</div>
                    <div class="stats-label">æœ¬æœˆæ‰“å¡æ¬¡æ•°</div>
                </div>
            </div>
            <div class="stats-card" id="avg-per-day">
                <div class="stats-icon">ğŸ“Š</div>
                <div class="stats-content">
                    <div class="stats-value">0</div>
                    <div class="stats-label">æ—¥å‡æ‰“å¡æ¬¡æ•°</div>
                </div>
            </div>
        </div>

        <!-- ç­¾åˆ°æ—¥å¿—éƒ¨åˆ† -->
        <div class="log-section">
            <h2>ç­¾åˆ°æ—¥å¿—è®°å½•</h2>
            
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-item">
                        <label for="sign-username">ç”¨æˆ·å:</label>
                        <input type="text" id="sign-username" placeholder="è¾“å…¥ç”¨æˆ·å">
                    </div>
                    <div class="filter-item">
                        <label for="sign-date-from">å¼€å§‹æ—¥æœŸ:</label>
                        <input type="date" id="sign-date-from">
                    </div>
                    <div class="filter-item">
                        <label for="sign-date-to">ç»“æŸæ—¥æœŸ:</label>
                        <input type="date" id="sign-date-to">
                    </div>
                </div>
                <div class="filter-row">
                    <div class="filter-item">
                        <label for="sign-type">ç­¾åˆ°ç±»å‹:</label>
                        <select id="sign-type">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="ä¸Šç­æ‰“å¡">ä¸Šç­æ‰“å¡</option>
                            <option value="ä¸‹ç­æ‰“å¡">ä¸‹ç­æ‰“å¡</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label for="sign-status">çŠ¶æ€:</label>
                        <select id="sign-status">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="æˆåŠŸ">æˆåŠŸ</option>
                            <option value="å¤±è´¥">å¤±è´¥</option>
                        </select>
                    </div>
                    <div class="filter-item filter-actions">
                        <button id="sign-search" class="filter-button">æœç´¢</button>
                        <button id="sign-reset" class="filter-button reset">é‡ç½®</button>
                        <button id="sign-export" class="filter-button export">å¯¼å‡º</button>
                    </div>
                </div>
            </div>
            
            <div class="logs-table-wrapper">
                <table class="logs-table" id="sign-logs-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>ç”¨æˆ·å</th>
                            <th>ç­¾åˆ°æ—¶é—´</th>
                            <th>ç­¾åˆ°ç±»å‹</th>
                            <th>çŠ¶æ€</th>
                            <th>å¤‡æ³¨</th>
                            <th>IPåœ°å€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- åŠ¨æ€åŠ è½½å†…å®¹ -->
                    </tbody>
                </table>
            </div>
            
            <div class="pagination" id="sign-logs-pagination">
                <!-- åˆ†é¡µæ§ä»¶ -->
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/admin/statistics.js"></script>
{% endblock %} 